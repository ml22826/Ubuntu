

zcat ../extracted_variants.vcf.gz | awk 'BEGIN { OFS = "\t" } #tab separation 
     NR == FNR { rsid[$2,$4,$5] = $3; next }  
     {
         chrom = $1;
         pos = $2;
         id = $3;
         ref = $4;
         alt = $5;
         gene_names = $6;  
         refID = (rsid[pos,ref,alt] == "" ? "." : rsid[pos,ref,alt]);
         print chrom, pos, id, ref, alt, gene_names, refID;
     }' - simplified_file38.vcf > output_file.csv
 
